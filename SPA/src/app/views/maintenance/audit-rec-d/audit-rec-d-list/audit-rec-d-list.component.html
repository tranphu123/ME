<div class="animated fadeIn">
  <!--/.row-->
  <div class="row">
    <!--/.col-->
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> List WT Tracking List
          <button type="button" (click)="back()" class="btn btn-sm btn-primary float-right "><i
              class="fa fa-chevron-left"></i>
            Back</button>
          <button type="button" class="btn btn-sm btn-success float-right mr-1" (click)="add()"><i
              class="fa fa-plus"></i>
            Add new</button>
        </div>

        <div class="card-body">
          <ngx-spinner bdOpacity=0.2 bdColor="rgba(51,51,51,0.8)" size="medium" color="#20A8D8" type="pacman">
          </ngx-spinner>
          <div class="scoll-bottom">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Item No</th>
                  <th>ECRS</th>
                  <th>Audit Type</th>
                  <th>Audit Item</th>
                  <th>Local</th>
                  <th>Chinese</th>
                  <th>English</th>
                  <th>Before Picture</th>
                  <th>After Picture</th>
                  <th>PIC</th>
                  <th>PD Department</th>
                  <th>PD Building</th>
                  <th>ME PIC</th>
                  <th>Finished Date</th>
                  <th>Status</th>
                  <th>Remark</th>
                  <th>Edit</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of auditRecDs, let i = index">
                  <th class="font-table">{{ (pagination.currentPage - 1) * pagination.itemsPerPage + i + 1 }}</th>
                  <th class="font-table">{{ item.item_no }}</th>
                  <th class="font-table">{{ item.ercs }}</th>
                  <th class="font-table">{{ item.audit_Type_ID }}</th>
                  <th class="font-table">{{ item.audit_Item }}</th>
                  <th class="font-table">{{ item.issue_LL }}</th>
                  <th class="font-table">{{ item.issue_ZW }}</th>
                  <th class="font-table">{{ item.issue_EN }}</th>
                  <th class="hover01"> <figure><img *ngIf="chkImage(item.before_Picture)" [src]="
                      (item.before_Picture === null || item.before_Picture === '')
                        ? urlImage
                        : url + item.before_Picture
                    " width="100%" width="60" (click)="openImage(item.before_Picture)" /></figure>
                    <video *ngIf="!chkImage(item.before_Picture)" width="100%" [src]="(item.before_Picture === null || item.before_Picture === '') ? urlImage : url + item.before_Picture
                    " controls width="100"></video></th>
                  <th class="hover01"> <figure><img *ngIf="chkImage(item.after_Picture)" [src]="
                      (item.after_Picture === null || item.after_Picture === '')
                        ? urlImage
                        : url + item.after_Picture
                    " width="100%" width="60" (click)="openImage(item.after_Picture)" /></figure>
                    <video *ngIf="!chkImage(item.after_Picture)" width="100%" [src]="
                      (item.after_Picture === null || item.after_Picture === '')
                        ? urlImage
                        : url + item.after_Picture
                    " controls width="100"></video></th>
                  <th class="font-table">{{ item.pD_PIC }}</th>
                  <th class="font-table">{{ item.pD_Department }}</th>
                  <th class="font-table">{{ item.pD_Building }}</th>
                  <th class="font-table">{{ item.mE_PIC }}</th>
                  <th class="font-table">{{ item.finished_Date | date : "MM/dd/yyyy, HH:mm:ss" }}</th>
                  <th class="font-table" style="background: red;color: white;" *ngIf="item.status === 'Not Feasible'">
                    {{ item.status }}</th>
                  <th class="font-table" style="background: rgb(108, 180, 91);color: white;"
                    *ngIf="item.status === 'Implemented'">{{ item.status }}</th>
                  <th class="font-table" style="background:yellow;color: rgb(24, 20, 224);"
                    *ngIf="item.status === 'Ongoing'">{{ item.status }}</th>
                  <th class="font-table">{{ item.remark }}</th>
                  <th class="font-table align-middle">
                    <button type="button" (click)="update(item)" class="btn btn-primary btn-sm mr-2"><i
                        class="fa fa-edit fa-lg"></i></button>
                  </th>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="d-flex" *ngIf="pagination.totalPages > 1">
            <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [(ngModel)]="pagination.currentPage"
              [itemsPerPage]="pagination.itemsPerPage" (pageChanged)="pageChanged($event)" previousText="&lsaquo;"
              nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;" [maxSize]=5>
            </pagination>
          </div>
        </div>
      </div>
    </div>
    <!--/.col-->
  </div>
</div>
